repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: fix-byte-order-marker
        name: Fix byte order marker
        verbose: true
      - id: fix-encoding-pragma
        name: Fix encoding pragma
        verbose: true
      - id: mixed-line-ending
        name: Fix mixed line ending
        verbose: true
      - id: check-merge-conflict
        name: Check git merge conflict
        verbose: true
      - id: check-json
        files: \.(json)$
  - repo: https://github.com/realm/SwiftLint
    rev: 0.50.3
    hooks:
      - id: swiftlint
        entry: swiftlint --fix --strict
  # cppcheck for static analysis
  # --suppress=noValidConfiguration: code generated by protobuf(protoc.exe) will cause this error
  # --suppress=unusedStructMember: don't know the exact reason for this error
  - repo: https://github.com/pocc/pre-commit-hooks
    rev: v1.3.5
    hooks:
      - id: cppcheck
        args:
          [
            -q,
            --platform=native,
            --inline-suppr,
            --error-exitcode=1,
            --enable=all,
            --std=c++14,
            --language=c++,
            --suppress=shadowFunction,
            --suppress=unusedFunction,
            --suppress=unusedStructMember,
            --suppress=missingInclude,
            --suppress=useStlAlgorithm,
            --suppress=knownConditionTrueFalse,
            --suppress=unmatchedSuppression,
            --suppress=missingIncludeSystem,
            --suppress=unknownMacro,
            --suppress=noValidConfiguration,
            --suppress=unusedPrivateFunction,
          ]

  # clang-format for rule based style formatter
  - repo: https://github.com/pre-commit/mirrors-clang-format
    rev: v16.0.6
    hooks:
      - id: clang-format
        types_or: [c++, c, cuda]
        args: ["-style=file"]


  # typo checker: pip install typos
  - repo: https://github.com/crate-ci/typos
    rev: v1.15.7
    hooks:
      - id: typos
        args: [-v]

  # linter for commit message
  - repo: https://github.com/alessandrojcm/commitlint-pre-commit-hook
    rev: v9.5.0
    hooks:
      - id: commitlint
        stages: [commit-msg]

